<p-dialog header="Crear turno" [modal]="true" [(visible)]="showModal" [style]="{ width: '48rem' }">
  <form [formGroup]="turnForm" class="dialog-form">
    <!-- ID Usuario: muestra el id -->
    <div class="form-section">
      <label class="section-label" for="userId">ID Usuario</label>
      <p-dropdown
        id="userId"
        showClear
        formControlName="user"
        [disabled]="!!turnForm.controls.group.getRawValue()"
        [options]="users"
        optionLabel="id"
        [filter]="true"
        (onChange)="this.turnForm.controls.group.setValue(null)"
        placeholder="Selecciona ID usuario" class="w-full"
      >
        <ng-template let-user pTemplate="item">
          {{ user.id }} - {{ user.name }} {{ user.lastName }}
        </ng-template>
        <ng-template let-user pTemplate="selectedItem">
          {{ user.id }} - {{ user.name }} {{ user.lastName }}
        </ng-template>
      </p-dropdown>
    </div>
    <!-- ID Grupo: muestra el nombre del grupo -->
    <div class="form-section">
      <label class="section-label" for="groupId">ID Grupo</label>
      <p-dropdown
        id="groupId"
        showClear
        formControlName="group"
        [disabled]="!!turnForm.controls.user.getRawValue()"
        [options]="groups"
        optionLabel="name"
        [filter]="true"
        (onChange)="this.turnForm.controls.user.setValue(null)"
        placeholder="Selecciona grupo"
        class="w-full"
      >
        <ng-template let-group pTemplate="item">
          {{ group.id }} - {{ group.name }}
        </ng-template>
        <ng-template let-group pTemplate="selectedItem">
          {{ group.id }} - {{ group.name }}
        </ng-template>
      </p-dropdown>
    </div>
    <div class="form-section">
      <label class="section-label" for="initDate">Fecha inicio</label>
      <input pInputText id="initDate" formControlName="initDate" type="date"/>
    </div>
    <div class="form-section">
      <label class="section-label" for="endDate">Fecha fin</label>
      <input pInputText id="endDate" formControlName="endDate" type="date"/>
    </div>
    <div class="form-section">
      <label class="section-label" for="initHour">Hora inicio</label>
      <input pInputText id="initHour" formControlName="initHour" type="time"/>
    </div>
    <div class="form-section">
      <label class="section-label" for="endHour">Hora fin</label>
      <input pInputText id="endHour" formControlName="endHour" type="time"/>
    </div>
    <div class="form-actions">
      <p-button label="Guardar" [disabled]="isSaveDisabled" icon="pi pi-save" (click)="onRegister()"></p-button>
    </div>
  </form>
</p-dialog>
